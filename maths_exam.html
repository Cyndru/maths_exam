<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Maths Exam</title>
  <style>
    body { font-family: Arial, sans-serif; text-align: center; margin-top: 30px; background-color: #f7f7f7;}
    .card { background: white; padding: 25px; border-radius: 12px; box-shadow: 0px 4px 12px rgba(0,0,0,0.1); display: inline-block; min-width: 500px; }
    .hidden { display: none; }
    input, button { padding: 10px; margin: 10px; border-radius: 6px; border: 1px solid #ccc; font-size: 16px; }
    button { background: #4CAF50; color: white; border: none; cursor: pointer; }
    .result { font-weight: bold; margin-top: 15px; }
    .correct { color: green; }
    .wrong { color: red; }
    table { margin-top: 20px; border-collapse: collapse; width: 100%; }
    th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
    th { background: #f2f2f2; }
  </style>
</head>
<body>

  <!-- Name Screen -->
  <div class="card" id="nameScreen">
    <h1>Maths Exam</h1>
    <p>Enter Student Name:</p>
    <input type="text" id="studentName" placeholder="Your name">
    <button onclick="startExam()">Start Exam</button>
  </div>

  <!-- Question Screen -->
  <div class="card hidden" id="questionScreen">
    <h2 id="welcome"></h2>
    <p id="question"></p>
    <input type="text" id="answer" placeholder="Type your answer">
    <button onclick="checkAnswer()">Submit</button>
    <div id="result" class="result"></div>
  </div>

  <!-- Result Screen -->
  <div class="card hidden" id="resultScreen">
    <h2>Exam Finished 🎉</h2>
    <p id="finalScore"></p>
    <table id="answerTable">
      <tr><th>Question</th><th>Your Answer</th><th>Correct Answer</th><th>Status</th></tr>
    </table>
  </div>

  <script>
    // --------------------------
    // Question Bank
    // --------------------------
    const questions = [
      // Fish Tale
      { q: "Write the number name for 5,23,47,289", a: "Five crore twenty-three lakh forty-seven thousand two hundred eighty-nine" },
      { q: "In 6,73,452, the digit 7 is underlined. Write its place, place value, and face value.", a: "Ten-thousands, 70000, 7" },
      { q: "Arrange in ascending order: 9,45,672; 6,23,981; 12,34,567; 7,11,110", a: "6,23,981 < 7,11,110 < 9,45,672 < 12,34,567" },
      { q: "Predecessor and Successor of 10,00,000", a: "9,99,999 and 10,00,001" },
      { q: "Form the greatest and smallest 7-digit numbers using digits 3,0,5,9,2,7,1", a: "Greatest = 9753210, Smallest = 1023579" },
      { q: "A city has 12,48,560 people. 7,39,842 left. How many remain?", a: "508718" },
      { q: "A factory produces 85,640 pencils in a day. In 365 days?", a: "31258600" },
      { q: "Compare: Which is greater, 7,52,439 or 75,243?", a: "7,52,439" },
      { q: "Find the face value and place value of 9 in 9,87,654", a: "Face value = 9, Place value = 900000" },
      { q: "Write the predecessor of 1,00,00,000", a: "9999999" },

      // Shapes & Angles
      { q: "Draw an angle of 30° (Teacher will check)", a: "Teacher checked" },
      { q: "Which is a right angle: 90°, 120°, 75°?", a: "90°" },
      { q: "Classify: 45° (___), 90° (___), 150° (___)", a: "Acute, Right, Obtuse" },
      { q: "Draw an angle of 120° (Teacher will check)", a: "Teacher checked" },
      { q: "Which angle is obtuse: 45°, 120°, 80°?", a: "120°" },
      { q: "Which shape has all sides equal and all angles right?", a: "Square" },
      { q: "How many lines of symmetry does a rectangle have?", a: "2" },

      // Multiplication Word Problems
      { q: "A bus has 52 seats. How many seats in 125 buses?", a: "6500" },
      { q: "A book costs ₹245. Cost of 432 books?", a: "105840" },
      { q: "One packet has 48 chocolates. How many chocolates in 250 packets?", a: "12000" },
      { q: "A pen costs ₹18. What is the cost of 999 pens?", a: "17982" },

      // Division Word Problems
      { q: "8640 apples packed in 36 boxes. Apples per box?", a: "240" },
      { q: "12500 kg wheat packed in 25kg bags. Bags needed?", a: "500" },
      { q: "A rope of 960 m is cut into 24 equal pieces. Length of each piece?", a: "40" },
      { q: "Rs. 12,600 is equally distributed among 28 students. How much each gets?", a: "450" }
    ];

    // --------------------------
    // Exam Logic
    // --------------------------
    let current = 0, score = 0, student = "";
    let answers = [];

    function startExam() {
      student = document.getElementById("studentName").value.trim();
      if(student === "") { alert("Please enter your name."); return; }
      document.getElementById("nameScreen").classList.add("hidden");
      document.getElementById("questionScreen").classList.remove("hidden");
      document.getElementById("welcome").innerText = "Welcome, " + student + "!";
      loadQuestion();
    }

    function loadQuestion() {
      if(current < questions.length) {
        document.getElementById("question").innerText = questions[current].q;
        document.getElementById("answer").value = "";
        document.getElementById("result").innerText = "";
      } else {
        finishExam();
      }
    }

    function checkAnswer() {
      let ans = document.getElementById("answer").value.trim();
      const correct = questions[current].a;
      let status = "❌ Wrong";

      if(correct.toLowerCase() === "teacher checked") {
        status = "✔ Checked by Teacher";
      } else {
        // Numeric comparison (ignores commas)
        let ansNum = parseFloat(ans.replace(/,/g, ''));
        let correctNum = parseFloat(correct.replace(/,/g, ''));
        if(!isNaN(ansNum) && !isNaN(correctNum)) {
          if(ansNum === correctNum) {
            score++;
            status = "✅ Correct";
          }
        } else {
          // Text comparison (case-insensitive, ignore spaces)
          if(ans.toLowerCase().replace(/\s+/g,'') === correct.toLowerCase().replace(/\s+/g,'')) {
            score++;
            status = "✅ Correct";
          }
        }
      }

      answers.push({ q: questions[current].q, ans: ans, correct: correct, status: status });
      current++;
      loadQuestion();
    }

    function finishExam() {
      document.getElementById("questionScreen").classList.add("hidden");
      document.getElementById("resultScreen").classList.remove("hidden");
      document.getElementById("finalScore").innerText = student + ", you scored " + score + " out of " + questions.length;

      let table = document.getElementById("answerTable");
      answers.forEach(item => {
        let row = `<tr><td>${item.q}</td><td>${item.ans}</td><td>${item.correct}</td><td>${item.status}</td></tr>`;
        table.innerHTML += row;
      });
    }
  </script>

</body>
</html>
